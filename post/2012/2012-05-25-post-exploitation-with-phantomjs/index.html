<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author"
    content="mubix">
<meta name="description"
    content="If you have never heard of PhantomJS ( http://phantomjs.org/ ) before, it&amp;rsquo;s a &amp;ldquo;Full Web Stack with No Browser Required&amp;rdquo;, basically it a GUI-less browser. One of the magical &amp;ldquo;example&amp;rdquo; files that it has is called &amp;ldquo;rasterize.js&amp;rdquo;
Rasterize.JS essentially renders a URL, screen shots it and give it to you in a number of different formats, here&amp;rsquo;s it&amp;rsquo;s usage:
Usage: rasterize.js URL filename [paperwidth*paperheight|paperformat] paper (pdf output) examples: &amp;quot;5in*7.5in&amp;quot;, &amp;quot;10cm*20cm&amp;quot;, &amp;quot;A4&amp;quot;, &amp;quot;Letter&amp;quot;  PhantomJS is sweet for sweeping a ton of IPs and suspected HTTP/S sites, and look through a gallery of them to start figuring out which looks the most interesting… and we are going to essentially just that, except from a Victim machine." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/post/2012/2012-05-25-post-exploitation-with-phantomjs/" />


<title>
    
    Post Exploitation with PhantomJS :: malicious.link  — welcome
    
</title>



<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Source+Code+Pro" rel="stylesheet"
    type="text/css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">


<link rel="stylesheet" href="/scss/main.min.099699ab246bf26f50616f7c9f00c79d46110459d1bd727b2d07d6fc09ece082.css">



<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252627">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="theme-color" content="#252627">
<meta itemprop="name" content="Post Exploitation with PhantomJS">
<meta itemprop="description" content="If you have never heard of PhantomJS ( http://phantomjs.org/ ) before, it&rsquo;s a &ldquo;Full Web Stack with No Browser Required&rdquo;, basically it a GUI-less browser. One of the magical &ldquo;example&rdquo; files that it has is called &ldquo;rasterize.js&rdquo;
Rasterize.JS essentially renders a URL, screen shots it and give it to you in a number of different formats, here&rsquo;s it&rsquo;s usage:
Usage: rasterize.js URL filename [paperwidth*paperheight|paperformat] paper (pdf output) examples: &quot;5in*7.5in&quot;, &quot;10cm*20cm&quot;, &quot;A4&quot;, &quot;Letter&quot;  PhantomJS is sweet for sweeping a ton of IPs and suspected HTTP/S sites, and look through a gallery of them to start figuring out which looks the most interesting… and we are going to essentially just that, except from a Victim machine.">


<meta itemprop="datePublished" content="2012-05-25T05:36:27&#43;00:00" />
<meta itemprop="dateModified" content="2012-05-25T05:36:27&#43;00:00" />
<meta itemprop="wordCount" content="467">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Post Exploitation with PhantomJS"/>
<meta name="twitter:description" content="If you have never heard of PhantomJS ( http://phantomjs.org/ ) before, it&rsquo;s a &ldquo;Full Web Stack with No Browser Required&rdquo;, basically it a GUI-less browser. One of the magical &ldquo;example&rdquo; files that it has is called &ldquo;rasterize.js&rdquo;
Rasterize.JS essentially renders a URL, screen shots it and give it to you in a number of different formats, here&rsquo;s it&rsquo;s usage:
Usage: rasterize.js URL filename [paperwidth*paperheight|paperformat] paper (pdf output) examples: &quot;5in*7.5in&quot;, &quot;10cm*20cm&quot;, &quot;A4&quot;, &quot;Letter&quot;  PhantomJS is sweet for sweeping a ton of IPs and suspected HTTP/S sites, and look through a gallery of them to start figuring out which looks the most interesting… and we are going to essentially just that, except from a Victim machine."/>



<meta property="article:section" content="post exploitation" />
<meta property="article:section" content="phantomjs" />
<meta property="article:section" content="web" />

<meta property="article:published_time" content="2012-05-25 05:36:27 &#43;0000 &#43;0000" />








    </head>

    <body class="">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/post/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">boot mubix.kernel</span>
            <span class="logo__cursor"></span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about">About</a></li><li><a href="/brandon">Brandon</a></li><li><a href="/post">Posts</a></li><li><a href="/start">Start</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="/post/2012/2012-05-25-post-exploitation-with-phantomjs/">Post Exploitation with PhantomJS</a></h2>

            

            <div class="post-content">
                <p>If you have never heard of PhantomJS ( <a href="http://phantomjs.org/">http://phantomjs.org/</a> ) before, it&rsquo;s a &ldquo;Full Web Stack with No Browser Required&rdquo;, basically it a GUI-less browser. One of the magical &ldquo;example&rdquo; files that it has is called &ldquo;rasterize.js&rdquo;</p>

<p>Rasterize.JS essentially renders a URL, screen shots it and give it to you in a number of different formats, here&rsquo;s it&rsquo;s usage:</p>

<pre><code>Usage: rasterize.js URL filename [paperwidth*paperheight|paperformat]
 paper (pdf output) examples: &quot;5in*7.5in&quot;, &quot;10cm*20cm&quot;, &quot;A4&quot;, &quot;Letter&quot;
</code></pre>

<p>PhantomJS is sweet for sweeping a ton of IPs and suspected HTTP/S sites, and look through a gallery of them to start figuring out which looks the most interesting… and we are going to essentially just that, except from a Victim machine.</p>

<p>First, download the Win32 static bins for PhantomJS from: <a href="http://code.google.com/p/phantomjs/downloads/list">http://code.google.com/p/phantomjs/downloads/list</a></p>

<p>Pull out phantomJS.exe and rasterize.js from the zip, and upload it to your victim.</p>

<p>Make a special directory for your renderings (I use imgs), this also makes it easy for meterpreter to download it since meterpreter supports directories and download targets.</p>

<p>Now make a BAT file with the following in it:</p>

<pre><code>FOR /F &quot;skip=3 delims= &quot; %%A IN ('NET VIEW') DO start /b phantomjs.exe examplesrasterize.js http://%%A imgshttp_%%A.png
FOR /F &quot;skip=3 delims= &quot; %%A IN ('NET VIEW') DO start /b phantomjs.exe --ignore-ssl-errors=yes examplesrasterize.js https://%%A imgshttps_%%A.png
</code></pre>

<p>There are some cool tricks in here. First we are using &lsquo;net view&rsquo; as our target list, we are using the &lsquo;start /b&rsquo; command to throw everything into the background to run so we don&rsquo;t have to wait for each to finish (a crude way to thread actions in BAT files). And finally we are checking for both HTTP and HTTPS. We we are not doing however is doing any logging, so if you want to catch errors it&rsquo;s all you, just remember that when trying to pipe output from a command started with &lsquo;start&rsquo; you have to prefix the &gt; with a ^ so it looks like:</p>

<p><code>start echo blah ^&gt; blah.txt</code></p>

<p>You are ALMOST ready to rock. There is a slight bug in Rasterize.js, if it can&rsquo;t resolve the address or otherwise can&rsquo;t contact the web server (which is going to be the majority of the case for us) it hangs in an open state. This is bad, we don&rsquo;t want to have a thousand phantomjs.exe processes running hanged. Simply make a new line after LINE 20, and add &lsquo;phantom.exit();&rsquo; so it knows to exit if it encounters a failed connection.</p>

<p>Thats it, happy hunting from both inside and outside.</p>

<p>P.S. PhantomJS supports SOCKS and HTTP proxies, so if you use them (Tor) or run into them internally, support is there. A quick mod to your batch file and you&rsquo;re golden:</p>

<pre><code>--proxy=address:port Sets the network proxy (e.g. &quot;--proxy=192.168.1.42:8080&quot;)  
--proxy-auth=username:password Sets authentication details for the proxy (basic auth)  
--proxy-type=[http|socks5] Sets the proxy type, either &quot;http&quot; (default) or &quot;socks5&quot;
</code></pre>

            </div>
        </article>

        <hr />

        <div class="post-info">
  			</div>

        
          <div id="comments" class="thin">
</div>
        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2019</span>
            
            <span></span>
            <span> <a href="/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">

        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">rhazdon</a></span>
        </div>
    </div>
</footer>

            
        </div>

        





<script type="text/javascript" src="/js/bundle.4b80fbbfab88198dcef181b034822e60a3e68b1c128d1dc05392a32943a18ec2f866fbcd9ce31dcf84134397161647ad605ea5c25ecf12e5fcf9d28b47e64bb5.js" integrity="sha512-S4D7v6uIGY3O8YGwNIIuYKPmixwSjR3AU5KjKUOhjsL4ZvvNnOMdz4QTQ5cWFketYF6lwl7PEuX8&#43;dKLR&#43;ZLtQ=="></script>



    </body>
</html>
