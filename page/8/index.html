<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Home of mubix, the infosec treehugger">
  <meta name="generator" content="Hugo 0.16" />

  <title>Room362</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  
  <link rel="alternate" type="application/rss+xml" title="Room362" href="//room362.com/index.xml" />
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="//room362.com/img/favicon.ico" type="image/x-icon" />

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  

  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/brandon/"><i class='fa fa-users fa-fw'></i>Brandon</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="//room362.com/index.xml"><i class="fa fa-rss fa-fw"></i>RSS</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/mubix" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://facebook.com/mubix" target="_blank"><i class="fa fa-facebook-square fa-fw"></i>Facebook</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://plus.google.com/+mubix" target="_blank"><i class="fa fa-google-plus-square fa-fw"></i>Google+</a>
    </li>
    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://instagram.com/mubix" target="_blank"><i class="fa fa-instagram fa-fw"></i>Instagram</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://flickr.com/photos/mubix" target="_blank"><i class="fa fa-flickr fa-fw"></i>Flickr</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://youtube.com/user/hak5" target="_blank"><i class="fa fa-youtube-square fa-fw"></i>YouTube</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://vimeo.com/mubix" target="_blank"><i class="fa fa-vimeo-square fa-fw"></i>Vimeo</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="http://slideshare.net/mubix" target="_blank"><i class="fa fa-slideshare fa-fw"></i>SlideShare</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://linkedin.com/in/mubix" target="_blank"><i class="fa fa-linkedin-square fa-fw"></i>LinkedIn</a>
    </li>
    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://reddit.com/user/mubix" target="_blank"><i class="fa fa-reddit-square fa-fw"></i>Reddit</a>
    </li>
    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/mubix" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://bitbucket.org/mubix" target="_blank"><i class="fa fa-bitbucket-square fa-fw"></i>Bitbucket</a>
    </li>
    

    

    

    
    
    
    
    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2016. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Room362</h1>
  <h2>Blatherings of a security addict</h2>
</div>

<div class="content">
  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-11-13-smash-and-grab-windows-dir-lists/">Smash and Grab: Windows Dir Lists</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>13 Nov 2012, 08:44</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  Looking through network shares can be slow, and waiting for individual searches to finish looking through the whole &ldquo;drive&rdquo; is redundant. Easier to just use some Windows voodoo to get a good list to look through offline: start /b cmd /c dir /b /s \\nas\users_home_share$ ^&gt; shareinfo.txt Breaking that down: start /b - starts a process that won&rsquo;t hang up our current one, with the &ldquo;b&rdquo; flag meaning &ldquo;background&rdquo;, yay not visible to the user!
  </p>

  
  <footer>
    <a href="/post/2012/2012-11-13-smash-and-grab-windows-dir-lists/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-10-31-finding-admin-access/">Finding Admin Access</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>31 Oct 2012, 01:28</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  You&rsquo;ve got shell, and a set of credentials but you&rsquo;re coming up empty on what you can do with those credentials. This is especially problematic when you can&rsquo;t get past UAC as you are either in a AlwaysNotify situation or not a local admin. (I&rsquo;m not trying to pull some some &ldquo;insert magic here&rdquo; on the assumption of credentials just at the time of this writing I have only just started working (created a blank file) on a post module to do this as your current user, so until then, you need credentials) Enter the auxiliary module: auxiliary/admin/smb/check_dir_file First we set up a route as aux modules don&rsquo;t have a &ldquo;SESSION&rdquo; parameter: Use the module and set our credentials: Next, set ADMIN$ as we can&rsquo;t guarantee C$ is the primary drive, but ADMIN$ will definitely be the WINDOWS directory.
  </p>

  
  <footer>
    <a href="/post/2012/2012-10-31-finding-admin-access/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-10-30-bypassuac-got-a-facelift/">BypassUAC got a facelift</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>30 Oct 2012, 20:05</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  Dave Kennedy and Kevin Mitnick submitted the &ldquo;bypassuac&rdquo; post module to Metasploit a while back (last DerbyCon?). Which is awesome and they did some fantastic work, but I had a few complaints as probably anyone did who used the module on a somewhat modern network. &ldquo;Old&rdquo; module post/windows/escalate/bypassuac: I decided to give it a bit of a face lift: &ldquo;New&rdquo; local exploit module exploit/windows/local/bypassuac: All of the credit for the availability of this module goes to @egyp7 though, without his epic addition of local exploits to Metasploit the majority of the updates to this module wouldn&rsquo;t be possible.
  </p>

  
  <footer>
    <a href="/post/2012/2012-10-30-bypassuac-got-a-facelift/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-10-24-lm2ntlm-with-john-the-ripper/">lm2ntlm with John the Ripper</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>24 Oct 2012, 15:03</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  Since I didn&rsquo;t see any documentation bringing how to take an LM hash that you&rsquo;ve cracked and convert it to the NTLM equivalent all in one place. And I google how to do it almost every time. I wanted to put all these links in one place and remember how to do it for john. Go-go-gadget blog-notes. So there is this: https://github.com/snarez/rcracki/blob/master/lm2ntlm.cpp And this: https://github.com/rapid7/metasploit-framework/blob/master/tools/lm2ntcrack.rb And this: http://www.securityfocus.com/tools/6696 And the edited version of the above: http://atenlabs.com/blog/so-you-pillaged-a-domain-controllers-hashes/ But Metasploit&rsquo;s is currently borked,(Update: this is now fixed) I don&rsquo;t want to compile cpp, and perl sucks.
  </p>

  
  <footer>
    <a href="/post/2012/2012-10-24-lm2ntlm-with-john-the-ripper/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-10-22-axfr-for-dnssec-dnssec-walker/">AXFR for DNSSEC: DNSSEC Walker</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>22 Oct 2012, 03:10</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  TL;DR – DNSSEC Walker traverses a domain’s DNSSEC records to locate it’s regular DNS records. I like to go through slides of cons I can’t make it out to, and Hack-in-the-Box (HITB) Kul (Malaysia), was one such as they were very quick to release sides: http://conference.hitb.org/hitbsecconf2011kul/materials/ One that I came across is Marc “van Hauser” Heuse’s talk on IPv6 titled “IPv6 Insecurity Revolutions” (Link directly to PDF on aforementioned materials link).
  </p>

  
  <footer>
    <a href="/post/2012/2012-10-22-axfr-for-dnssec-dnssec-walker/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-10-21-setting-systems-proxy-settings-with-metasploit/">Setting SYSTEM&#39;s proxy settings with Metasploit</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>21 Oct 2012, 07:40</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  One of the great things about the reverse_http(s) payloads is that it is proxy aware. However one of the pitfalls to this is that SYSTEM doesn&rsquo;t have proxy settings, nor do users who have never logged into a system (unless profile loading is triggered). The problem here arrises when you are trying to do anything as SYSTEM, also the PSEXEC only has the option of getting you a SYSTEM shell (so you&rsquo;re done for right out of the door) Now, there is a stub in Metasploit that I have been unable to complete due to my lack of knowledge in the shell code world.
  </p>

  
  <footer>
    <a href="/post/2012/2012-10-21-setting-systems-proxy-settings-with-metasploit/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-10-17-mounting-smb-shares-over-meterpreter/">Mounting SMB shares over Meterpreter</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>17 Oct 2012, 17:52</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  Ok, this is pretty straight forward no magic: Got a shell, doesn&rsquo;t have to be SYSTEM Add a route to the internal range or directly to the host you want over the session you want Mosy on over to the Socks4a module. And in another terminal we need to make sure our proxychains.conf file in /etc/ or where ever you store your conf is correct. It defaults to 9050 on 127.0.01 for Tor, that&rsquo;s pretty easy to cope with and no reason to mess with it if you actually use it for Tor for other things.
  </p>

  
  <footer>
    <a href="/post/2012/2012-10-17-mounting-smb-shares-over-meterpreter/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-10-16-uac-alwaysnotify-bypass-ish/">UAC AlwaysNotify Bypass-ish</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>16 Oct 2012, 03:15</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  UPDATE: THIS IS ONLY WORKS WITH THE LOCAL ADMIN (ID 500) ACCOUNT AND PASSWORD (MY MISTAKE FOR NOT TESTING MORE) So the &ldquo;-ish&rdquo; is you need to have the username and pass of another account that has administrator rights the local administrator account on that box. But other than that, the following image should speak for itself. (no UAC prompt occurred during the following actions) I plan on writing a Metasploit module to do this as all it really does is starts a process as a different user and that process executes ShellExecute&rsquo;s &lsquo;RunAs&rsquo; verb.
  </p>

  
  <footer>
    <a href="/post/2012/2012-10-16-uac-alwaysnotify-bypass-ish/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-10-15-pass-the-hash-without-metasploit-part-2/">Pass the Hash without Metasploit - Part 2</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>15 Oct 2012, 04:24</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  I read this article a while back: http://fuzzynop.blogspot.com/2012/09/pass-hash-without-metasploit.html by @FuzzyNop Great article showing the use of WCE&rsquo;s &ldquo;-s&rdquo; flag to Pass-The-Hash locally and I highly recommend checking it out. Anywho, I was once in a similar scenario, where I had no Metasploit to back me up, but the box I was on did have one interesting thing, ruby and an accessible target for relatively up-to-date ruby gems. Since Metasploit&rsquo;s powerhouse library &lsquo;rex&rsquo; installed just fine I was set.
  </p>

  
  <footer>
    <a href="/post/2012/2012-10-15-pass-the-hash-without-metasploit-part-2/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="//room362.com/post/2012/2012-10-08-compiling-and-release-of-ditto/">Compiling and Release of Ditto</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>08 Oct 2012, 04:36</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  If you follow the exact same steps you did for Netview: /blog/2012/10/07/compiling-and-release-of-netview/ then you already have the steps needed to create a compiled version of ditto from the repo here: https://github.com/mubix/ditto And while the sheep icon is cute, and a nod to what ditto does, it comes at a pretty hefty cost: Size. Now if you&rsquo;re scoffing at 408 KB then you don&rsquo;t have any issues, but I like not having to wait while a binary I am trying to push to a victim box is transferring.
  </p>

  
  <footer>
    <a href="/post/2012/2012-10-08-compiling-and-release-of-ditto/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  

  


<nav class="pagination" role="pagination">
  
  <a href="/page/7/"><i class="fa fa-chevron-left"></i></a>
  
  <span>&nbsp;8 / 46&nbsp;</span>
  
  <a href="/page/9/"><i class="fa fa-chevron-right"></i></a>
  
</nav>



</div>

</div>
</div>
<script src="//room362.com/js/ui.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-198967-1', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>

