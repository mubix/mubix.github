<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>post exploitation on malicious.link</title>
    <link>https://malicious.link/categories/post-exploitation/</link>
    <description>Recent content in post exploitation on malicious.link</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 25 Aug 2012 01:56:48 +0000</lastBuildDate>
    
        <atom:link href="https://malicious.link/categories/post-exploitation/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Post Exploitation Command Lists - Request to Edit</title>
      <link>https://malicious.link/post/2012/2012-08-25-post-exploitation-command-lists-request-to-edit/</link>
      <pubDate>Sat, 25 Aug 2012 01:56:48 +0000</pubDate>
      
      <guid>https://malicious.link/post/2012/2012-08-25-post-exploitation-command-lists-request-to-edit/</guid>
      <description>&lt;p&gt;The post exploitation command lists: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linux/Unix/BSD Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/1ObQB6hmVvRPCgPTRZM5NMH034VDM-1N-EWPRz2770K4/edit&#34;&gt;https://docs.google.com/document/d/1ObQB6hmVvRPCgPTRZM5NMH034VDM-1N-EWPRz2770K4/edit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Windows Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/1U10isynOpQtrIK6ChuReu-K1WHTJm4fgG3joiuz43rw/edit&#34;&gt;https://docs.google.com/document/d/1U10isynOpQtrIK6ChuReu-K1WHTJm4fgG3joiuz43rw/edit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;OSX Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/10AUm_zUdAQGgoHNo_eS0SO1K-24VVYnulUD2x3rJD3k/edit&#34;&gt;https://docs.google.com/document/d/10AUm_zUdAQGgoHNo_eS0SO1K-24VVYnulUD2x3rJD3k/edit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;and the newly added Obsucure Syststem&amp;rsquo;s Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/1CIs6O1kMR-bXAT80U6Jficsqm0yR5dKUfUQgwiIKzgc/edit&#34;&gt;https://docs.google.com/document/d/1CIs6O1kMR-bXAT80U6Jficsqm0yR5dKUfUQgwiIKzgc/edit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;and Metasploit Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/1ZrDJMQkrp_YbU_9Ni9wMNF2m3nIPEA_kekqqqA2Ywto/edit&#34;&gt;https://docs.google.com/document/d/1ZrDJMQkrp_YbU_9Ni9wMNF2m3nIPEA_kekqqqA2Ywto/edit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Have been a weekly upkeep for me with so many… I don&amp;rsquo;t know what to call it, &amp;lsquo;undesirable edits&amp;rsquo; to them. Bad copies, bad pastes, formatting issues and some times deletion or vandalism of the docs. Anyways, I have finally broken down and removed &amp;lsquo;world&amp;rsquo; editable permissions. Anyone who has these links can still comment and copy the docs, but they can no longer edit them directly.&lt;/p&gt;
&lt;p&gt;If you would like to contribute, please shoot me a tweet, a email, a .. anything and I will gladly add you to the permissions to edit. Honestly it just became so overwhelming that every time I thought to add something I would cringe away because I know I&amp;rsquo;d spend most of time fixing them.&lt;/p&gt;
&lt;p&gt;Anyway enough of my crying, please if you have stuff to add or are just really good at fixing up formatting, let me know and I&amp;rsquo;ll add you to the editors list.&lt;/p&gt;
&lt;p&gt;Thanks,
mubix&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SUDOERS Commented Includes used for Evil</title>
      <link>https://malicious.link/post/2012/2012-05-26-sudoers-commented-includes-used-for-evil/</link>
      <pubDate>Sat, 26 May 2012 05:33:00 +0000</pubDate>
      
      <guid>https://malicious.link/post/2012/2012-05-26-sudoers-commented-includes-used-for-evil/</guid>
      <description>&lt;p&gt;I found a number of things interesting when reading the following post:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.offensive-security.com/vulndev/freepbx-exploit-phone-home/&#34;&gt;http://www.offensive-security.com/vulndev/freepbx-exploit-phone-home/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Too bad that nmap&amp;rsquo;s interactive mode was taken out, but there are a great number of other such methods, most notably VI&amp;rsquo;s shell mode. &lt;/p&gt;
&lt;p&gt;But when I started looking into appending or inserting lines into /etc/sudoers for &lt;a href=&#34;http://www.nationalccdc.org/&#34;&gt;CCDC&lt;/a&gt;, I happened upon an interesting function of that file. Near the end of the file there are two lines:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# See sudoers(5) for more information on &amp;quot;#include&amp;quot; directives:  
#includedir /etc/sudoers.d
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Both look commented out, but in actuality, exactly as-is the #includedir line is interpreted and acted upon. So any file that you put in the /etc/sudoers.d directory counts as an extension of the /etc/sudoers file. Make a small edit to the default README file with a bunch of added # commented out lines copied directly from the sudo man page, with a&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;nobody ALL = NOPASSWD: ALL&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;or www-data plus a webshell makes for easy re-exploitation. Just an evil way to stay hidden on a &amp;lsquo;nix box… &lt;/p&gt;
&lt;p&gt;**Update: **&lt;/p&gt;
&lt;p&gt;&lt;code&gt;nmap --script &amp;lt;(echo &amp;quot;os.execute(&#39;/bin/sh&#39;)&amp;quot;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&amp;lsquo;nuf said…  (thanks &lt;a href=&#34;https://twitter.com/bonsaiviking&#34;&gt;@bonsaiviking&lt;/a&gt; )&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Post Exploitation with PhantomJS</title>
      <link>https://malicious.link/post/2012/2012-05-25-post-exploitation-with-phantomjs/</link>
      <pubDate>Fri, 25 May 2012 05:36:27 +0000</pubDate>
      
      <guid>https://malicious.link/post/2012/2012-05-25-post-exploitation-with-phantomjs/</guid>
      <description>&lt;p&gt;If you have never heard of PhantomJS ( &lt;a href=&#34;http://phantomjs.org/&#34;&gt;http://phantomjs.org/&lt;/a&gt; ) before, it&amp;rsquo;s a &amp;ldquo;Full Web Stack with No Browser Required&amp;rdquo;, basically it a GUI-less browser. One of the magical &amp;ldquo;example&amp;rdquo; files that it has is called &amp;ldquo;rasterize.js&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Rasterize.JS essentially renders a URL, screen shots it and give it to you in a number of different formats, here&amp;rsquo;s it&amp;rsquo;s usage:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Usage: rasterize.js URL filename [paperwidth*paperheight|paperformat]
 paper (pdf output) examples: &amp;quot;5in*7.5in&amp;quot;, &amp;quot;10cm*20cm&amp;quot;, &amp;quot;A4&amp;quot;, &amp;quot;Letter&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;PhantomJS is sweet for sweeping a ton of IPs and suspected HTTP/S sites, and look through a gallery of them to start figuring out which looks the most interesting… and we are going to essentially just that, except from a Victim machine.&lt;/p&gt;
&lt;p&gt;First, download the Win32 static bins for PhantomJS from: &lt;a href=&#34;http://code.google.com/p/phantomjs/downloads/list&#34;&gt;http://code.google.com/p/phantomjs/downloads/list&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Pull out phantomJS.exe and rasterize.js from the zip, and upload it to your victim.&lt;/p&gt;
&lt;p&gt;Make a special directory for your renderings (I use imgs), this also makes it easy for meterpreter to download it since meterpreter supports directories and download targets.&lt;/p&gt;
&lt;p&gt;Now make a BAT file with the following in it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;FOR /F &amp;quot;skip=3 delims= &amp;quot; %%A IN (&#39;NET VIEW&#39;) DO start /b phantomjs.exe examplesrasterize.js http://%%A imgshttp_%%A.png
FOR /F &amp;quot;skip=3 delims= &amp;quot; %%A IN (&#39;NET VIEW&#39;) DO start /b phantomjs.exe --ignore-ssl-errors=yes examplesrasterize.js https://%%A imgshttps_%%A.png
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;There are some cool tricks in here. First we are using &amp;lsquo;net view&amp;rsquo; as our target list, we are using the &amp;lsquo;start /b&amp;rsquo; command to throw everything into the background to run so we don&amp;rsquo;t have to wait for each to finish (a crude way to thread actions in BAT files). And finally we are checking for both HTTP and HTTPS. We we are not doing however is doing any logging, so if you want to catch errors it&amp;rsquo;s all you, just remember that when trying to pipe output from a command started with &amp;lsquo;start&amp;rsquo; you have to prefix the &amp;gt; with a ^ so it looks like:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;start echo blah ^&amp;gt; blah.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You are ALMOST ready to rock. There is a slight bug in Rasterize.js, if it can&amp;rsquo;t resolve the address or otherwise can&amp;rsquo;t contact the web server (which is going to be the majority of the case for us) it hangs in an open state. This is bad, we don&amp;rsquo;t want to have a thousand phantomjs.exe processes running hanged. Simply make a new line after LINE 20, and add &amp;lsquo;phantom.exit();&amp;rsquo; so it knows to exit if it encounters a failed connection.&lt;/p&gt;
&lt;p&gt;Thats it, happy hunting from both inside and outside.&lt;/p&gt;
&lt;p&gt;P.S. PhantomJS supports SOCKS and HTTP proxies, so if you use them (Tor) or run into them internally, support is there. A quick mod to your batch file and you&amp;rsquo;re golden:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;--proxy=address:port Sets the network proxy (e.g. &amp;quot;--proxy=192.168.1.42:8080&amp;quot;)  
--proxy-auth=username:password Sets authentication details for the proxy (basic auth)  
--proxy-type=[http|socks5] Sets the proxy type, either &amp;quot;http&amp;quot; (default) or &amp;quot;socks5&amp;quot;
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Post Exploitation Command Lists</title>
      <link>https://malicious.link/post/2011/2011-09-06-post-exploitation-command-lists/</link>
      <pubDate>Tue, 06 Sep 2011 05:31:49 +0000</pubDate>
      
      <guid>https://malicious.link/post/2011/2011-09-06-post-exploitation-command-lists/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve had a private list of commands that I run on Windows or Linux when I pop a shell, as I&amp;rsquo;m sure most pentesters do. It isn&amp;rsquo;t so much a thing of hoarding as much it is just jumbled notes that are &amp;lsquo;not worth posting&amp;rsquo;&lt;/p&gt;
&lt;p&gt;Well, I made two (now 3) public google docs (anyone can edit) *don&amp;rsquo;t be a dick clause&lt;/p&gt;
&lt;p&gt;Linux/Unix/BSD Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/1ObQB6hmVvRPCgPTRZM5NMH034VDM-1N-EWPRz2770K4/edit?hl=en_US&#34;&gt;https://docs.google.com/document/d/1ObQB6hmVvRPCgPTRZM5NMH034VDM-1N-EWPRz2770K4/edit?hl=en_US&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Windows Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/1U10isynOpQtrIK6ChuReu-K1WHTJm4fgG3joiuz43rw/edit?hl=en_US&#34;&gt;https://docs.google.com/document/d/1U10isynOpQtrIK6ChuReu-K1WHTJm4fgG3joiuz43rw/edit?hl=en_US&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;OSX Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/10AUm_zUdAQGgoHNo_eS0SO1K-24VVYnulUD2x3rJD3k/edit?hl=en_US&#34;&gt;https://docs.google.com/document/d/10AUm_zUdAQGgoHNo_eS0SO1K-24VVYnulUD2x3rJD3k/edit?hl=en_US&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;and the newly added Obsucure Syststem&amp;rsquo;s Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/1CIs6O1kMR-bXAT80U6Jficsqm0yR5dKUfUQgwiIKzgc/edit&#34;&gt;https://docs.google.com/document/d/1CIs6O1kMR-bXAT80U6Jficsqm0yR5dKUfUQgwiIKzgc/edit&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;and Metasploit Post Exploitation: &lt;a href=&#34;https://docs.google.com/document/d/1ZrDJMQkrp_YbU_9Ni9wMNF2m3nIPEA_kekqqqA2Ywto/edit&#34;&gt;https://docs.google.com/document/d/1ZrDJMQkrp_YbU_9Ni9wMNF2m3nIPEA_kekqqqA2Ywto/edit&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Both have filled out A LOT since I first posted them but if you have that one trick command you&amp;rsquo;d like to share or just want to copy/print the list for your own uses, thats fine too. I plan to keep these publicly editable as long as people obey the DBAD clause.&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t know any cool commands but happen to be a tech writer and can make it look beautiful, then great! Please do. There are tables at the bottom that I want to move everything to, or something like it, but if you can do it better&amp;hellip;&lt;/p&gt;
&lt;p&gt;Anyways, look forward to seeing how this thing grows.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
