<!DOCTYPE html>
<html lang="en-us">

	<head>
		<title> Meterpreter &middot;  </title>

		<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.41" />


<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">


<link rel="stylesheet" href="https://malicious.link/css/nix.css">


<link href="https://fonts.googleapis.com/css?family=Inconsolata|Open+Sans|Roboto|Montserrat|Concert+One" rel="stylesheet">



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-198967-1', 'auto');
	  ga('send', 'pageview');

</script>


	</head>

	<body>
		<header>
<nav class="navbar navbar-default navbar-fixed-top navbar-inverse font-header">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" id="green-terminal" href=https://malicious.link/>mubix@malicious.link ~ $</a>
		</div>

		
		<div class="collapse navbar-collapse" id="navbar-collapse-1">
			<ul class="nav navbar-nav navbar-right">
				<li>
					<a href="https://malicious.link/">/home/mubix</a>
				</li>

				
				
				<li >
					<a href="/brandon">~/brandon</a>
				</li>
				
				
				<li >
					<a href="/about">~/about</a>
				</li>
				
				
				<li >
					<a href="/post">~/posts</a>
				</li>
				

			</ul>
		</div>
	</div>
</nav>
</header>

		<div class="container wrapper">
			<div class="row">
				<div class="col-xs-12 text-center">
					<h1 id=>Meterpreter</h1>
				</div>
			</div>
			<ul id="post-list">
                	
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2013/2013-06-07-using-mimikatz-alpha-or-getting-clear-text-passwords-with-a/">Using Mimikatz Alpha or Getting Clear Text Passwords with a Microsoft Tool</a></h4>
							<h4 class="post-date">Jun 7, 2013</h4>
						</div>
						<div class="post-summary"><p>Mimikatz is now built into Metasploit&rsquo;s meterpreter, you can do load mimikatz from the meterpreter prompt, but if you don&rsquo;t want to go through the hassle of dealing with AV, reverse or bind payloads, meterpreter binaries, and you have clear text credentials for an admin, you can just use Mimikatz&rsquo;s alpha release that allows you to run Mimikatz on your machine against a process memory dump of LSASS. The great thing about this technique is that the only thing on disk is a Microsoft tool.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2013/2013-06-07-using-mimikatz-alpha-or-getting-clear-text-passwords-with-a/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2013/2013-04-08-sessiondump-meterpreter-extension/">Sessiondump Meterpreter Extension</a></h4>
							<h4 class="post-date">Apr 8, 2013</h4>
						</div>
						<div class="post-summary"><p>Mimikatz is awesome right, so is WCE. But both have one fatal flaw, even though you can execute them in memory {link} - you still have to have the binaries, remember the command to execute it in memory, and ultimately transfer the entire binary over so that metasploit can do its thing.
Then along came SessionDump. I only noticed this because someone was tweeting congratulations to someone on writing it:</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2013/2013-04-08-sessiondump-meterpreter-extension/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2012/2012-10-31-finding-admin-access/">Finding Admin Access</a></h4>
							<h4 class="post-date">Oct 31, 2012</h4>
						</div>
						<div class="post-summary"><p>You&rsquo;ve got shell, and a set of credentials but you&rsquo;re coming up empty on what you can do with those credentials. This is especially problematic when you can&rsquo;t get past UAC as you are either in a AlwaysNotify situation or not a local admin.
(I&rsquo;m not trying to pull some some &ldquo;insert magic here&rdquo; on the assumption of credentials just at the time of this writing I have only just started working (created a blank file) on a post module to do this as your current user, so until then, you need credentials)</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2012/2012-10-31-finding-admin-access/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2012/2012-10-30-bypassuac-got-a-facelift/">BypassUAC got a facelift</a></h4>
							<h4 class="post-date">Oct 30, 2012</h4>
						</div>
						<div class="post-summary"><p>Dave Kennedy and Kevin Mitnick submitted the &ldquo;bypassuac&rdquo; post module to Metasploit a while back (last DerbyCon?). Which is awesome and they did some fantastic work, but I had a few complaints as probably anyone did who used the module on a somewhat modern network.
&ldquo;Old&rdquo; module post/windows/escalate/bypassuac:
I decided to give it a bit of a face lift:
&ldquo;New&rdquo; local exploit module exploit/windows/local/bypassuac:
All of the credit for the availability of this module goes to @egyp7 though, without his epic addition of local exploits to Metasploit the majority of the updates to this module wouldn&rsquo;t be possible.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2012/2012-10-30-bypassuac-got-a-facelift/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2012/2012-10-17-mounting-smb-shares-over-meterpreter/">Mounting SMB shares over Meterpreter</a></h4>
							<h4 class="post-date">Oct 17, 2012</h4>
						</div>
						<div class="post-summary"><p>Ok, this is pretty straight forward no magic:
Got a shell, doesn&rsquo;t have to be SYSTEM
Add a route to the internal range or directly to the host you want over the session you want
Mosy on over to the Socks4a module. And in another terminal we need to make sure our proxychains.conf file in /etc/ or where ever you store your conf is correct. It defaults to 9050 on 127.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2012/2012-10-17-mounting-smb-shares-over-meterpreter/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2012/2012-08-28-free-shells-with-plink-and-pageant/">Free Shells with Plink and Pageant</a></h4>
							<h4 class="post-date">Aug 28, 2012</h4>
						</div>
						<div class="post-summary"><p>Watching Egypt’s talk at DEFCON 20 he mentioned the ability to jump on on a system when pageant (puTTY’s ssh-agent equivalent) is running. So I wanted to figure out the best way to get this going. Here is what I came up with:
meterpreter &gt; run enum_putty [*] Putty Installed for [[&quot;Administrator&quot;]] [*] Saved SSH Server Public Keys: [*] rsa2@22:172.16.10.150 [*] Session corp_webserver: [*] Protocol: SSH [*] Hostname: 172.16.10.150 [*] Username: root [*] Public Key: meterpreter &gt;  Awesome, this guy runs as root and we have the IP address.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2012/2012-08-28-free-shells-with-plink-and-pageant/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2012/2012-07-31-raising-zombies-in-windows-part-1-passwords/">Raising Zombies in Windows: Part 1 - Passwords</a></h4>
							<h4 class="post-date">Jul 31, 2012</h4>
						</div>
						<div class="post-summary"><p>With the use of Mimikatz and WCE, clear text passwords are much more common. What isn&rsquo;t always there is the user. They take lunches, go home at a reasonable time and generally aren&rsquo;t really appreciative of our (pentester/red teamer)&rsquo;s schedule.
A straight forward way, and provided by Microsoft to create a process as a user (whereby having their token readily available is using &lsquo;runas.exe&rsquo;:
w00t, we the user is present, we can migrate our meterepreter session into that notepad and we&rsquo;re good right?</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2012/2012-07-31-raising-zombies-in-windows-part-1-passwords/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2012/2012-06-28-netstat-post-module-for-meterpreter/">Netstat Post Module for Meterpreter</a></h4>
							<h4 class="post-date">Jun 28, 2012</h4>
						</div>
						<div class="post-summary"><p>Submitted it to MSF via pull request here: https://github.com/rapid7/metasploit-framework/pull/538
Added to trunk: https://github.com/rapid7/metasploit-framework/blob/master/modules/post/windows/gather/tcpnetstat.rb
I promised this one a while ago, sorry for the delay. This only does TCP, it&rsquo;d be trivial to do UDP as well but never really found anything interesting and actively going on on the UDP side. It&rsquo;s real simple, first we&rsquo;ve gotta add the GetTcpTable function to railgun:
session.railgun.add_function('iphlpapi', 'GetTcpTable', 'DWORD', [ ['PBLOB', 'pTcpTable', 'out'], ['PDWORD', 'pdwSize', 'inout'], ['BOOL', 'bOrder', 'in'] ])  Then gauge the size of the table:</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2012/2012-06-28-netstat-post-module-for-meterpreter/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2012/2012-01-03-uac-user-assisted-compromise/">(UAC) User Assisted Compromise</a></h4>
							<h4 class="post-date">Jan 3, 2012</h4>
						</div>
						<div class="post-summary"><p>A number of times during tests I&rsquo;ve actually run into those mythical creatures called &ldquo;patched windows machines&rdquo;. At DerbyCon Chris Gates and I released the &ldquo;Ask&rdquo; post module (which I had failed to publish). This module very simply uses the ShellExecute windows function.aspx&rdquo;) via Railgun with the undocumented (but very well known) operator of &lsquo;runas&rsquo;. These two lines accomplished that:
client.railgun.add_function( 'shell32', 'ShellExecuteA', 'DWORD',[[&quot;DWORD&quot;,&quot;hwnd&quot;,&quot;in&quot;],[&quot;PCHAR&quot;,&quot;lpOperation&quot;,&quot;in&quot;],[&quot;PCHAR&quot;,&quot;lpFile&quot;,&quot;in&quot;],[&quot;PCHAR&quot;,&quot;lpParameters&quot;,&quot;in&quot;],[&quot;PCHAR&quot;,&quot;lpDirectory&quot;,&quot;in&quot;],[&quot;DWORD&quot;,&quot;nShowCmd&quot;,&quot;in&quot;],]) client.railgun.shell32.ShellExecuteA(nil,&quot;runas&quot;,&quot;evil.exe&quot;,nil,nil,5)  This would quite simply prompt the user with that annoying UAC prompt asking the user to run &lsquo;evil.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2012/2012-01-03-uac-user-assisted-compromise/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://malicious.link/post/2011/2011-11-02-run-post-modules-on-all-sessions/">Run POST Modules On All Sessions</a></h4>
							<h4 class="post-date">Nov 2, 2011</h4>
						</div>
						<div class="post-summary"><p>Jcran recently blogged about an easy way to run a post module on all sessions:
http://blog.pentestify.com/simple-framework-domain-token-scanner
msf&gt; use post/windows/gather/enum_domain_tokens msf enum_domain_tokens&gt; irb framework.sessions.each do |session| run_single(&quot;set SESSION #{session.first}&quot;) run_single(&quot;run&quot;) sleep 1 end  You use the POST module, drop to IRB and run those 4 lines, and bam, you win. With resource files we can automate this a bit more and have it so that we do this effortlessly with any post module.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://malicious.link/post/2011/2011-11-02-run-post-modules-on-all-sessions/">Read More</a>
						</div>
					</div>
				</li>
			
			</ul>
            

<div class="pagination-wrapper text-center">
  <ul class="pagination">
      
      <li>
          <a href="/categories/meterpreter/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      
      <li
      class="disabled">
          <a href="" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
      </li>
      
      <li
      class="active"><a href="/categories/meterpreter/">1</a></li>
      
      <li
      ><a href="/categories/meterpreter/page/2/">2</a></li>
      
      <li
      ><a href="/categories/meterpreter/page/3/">3</a></li>
      
      <li
      >
          <a href="/categories/meterpreter/page/2/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
      </li>
      
      <li>
          <a href="/categories/meterpreter/page/3/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
      
    </ul>
</div>



			<div class="push"></div>
		</div>
		<footer class="footer text-center">
<p>
	<center>
	<b>If you wish to support this blog, please consider clicking start for a little bit. Thanks!</b>
	<br />
	<script src="https://authedmine.com/lib/simple-ui.min.js" async></script>
	<div class="coinhive-miner"
	style="width: 800px; height: 80px"
	data-key="Fq2psjl0HfUkdM4LuKrCulHymNpmFuXb"
	data-whitelabel="true"
	data-text="#000000"
	data-background="#F5F5F5"
	data-user="blog"
	data-autostart="true"
	>
	<em>Loading...</em>
	</div>
	</center>
</p>
<p>Copyright &copy; 2018 Malicious.Link -
<span class="credit">
	Powered by
	<a target="_blank" href="https://gohugo.io">Hugo</a>
	and
	<a target="_blank" href="https://github.com/LordMathis/hugo-theme-nix/">Nix</a> theme.
</span>
</p>

</footer>

	</body>
</html>
