<!DOCTYPE html>
<html>

    <head>
        <title> Passwordreq No - A hacker prospective &middot;  </title>

        <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.49.2" />


<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">


<link rel="stylesheet" href="https://malicious.link/css/nix.css">


<link href="https://fonts.googleapis.com/css?family=Inconsolata|Open+Sans|Roboto|Montserrat|Concert+One" rel="stylesheet">



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-198967-1', 'auto');
	  ga('send', 'pageview');

</script>


    </head>

    <body>
        <header>
<nav class="navbar navbar-default navbar-fixed-top navbar-inverse font-header">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" id="green-terminal" href=https://malicious.link/>mubix@malicious.link ~ $</a>
		</div>

		
		<div class="collapse navbar-collapse" id="navbar-collapse-1">
			<ul class="nav navbar-nav navbar-right">
				<li>
					<a href="https://malicious.link/">/home/mubix</a>
				</li>

				
				
				<li >
					<a href="/brandon">~/brandon</a>
				</li>
				
				
				<li >
					<a href="/start">~/start</a>
				</li>
				
				
				<li >
					<a href="/about">~/about</a>
				</li>
				
				
				<li >
					<a href="/post">~/posts</a>
				</li>
				

			</ul>
		</div>
	</div>
</nav>
</header>

        <div class="container wrapper">
            <h1><a href="https://malicious.link/post/2016/passwordreq-no-a-hacker-prospective/">Passwordreq No - A hacker prospective</a></h1>
            <span class="post-date">Dec 7, 2016 </span>
            <div class="post-content">
                <p>Ever have one of those topics that you know you&rsquo;ve looked up 100 times but never can remember the answer?</p>

<p>I was having one of those moments in a recent conversation on the NoVA Hackers mailing list (If you want to join <a href="https://novahackers.blogspot.com/p/how-to-join-and-rules.html">please read the instructions</a> before <a href="https://twitter.com/mubix/status/719726427785007104">requesting to join</a>)</p>

<p>The question came up as to what effect &ldquo;Password Required: No&rdquo; means in a <code>net user UserName</code> is.</p>

<p>As usual, MSDN isn&rsquo;t very helpful:</p>

<pre><code>/passwordreq:{yes | no} - Specifies whether a user account must have a password. The default is yes.
</code></pre>

<p>from: <a href="https://technet.microsoft.com/en-us/library/cc771865%28v=ws.11%29.aspx">https://technet.microsoft.com/en-us/library/cc771865%28v=ws.11%29.aspx</a></p>

<p>An old ISS finding wasn&rsquo;t any more helpful:</p>

<pre><code>A User account has been detected with no password required. No password requirement allows attackers unauthorized access, including the ability to take over and replace processes, and access other computers on the network.
</code></pre>

<p>from: <a href="http://www.iss.net/security_center/reference/vulntemp/nt-usernopw.htm">http://www.iss.net/security_center/reference/vulntemp/nt-usernopw.htm</a></p>

<p>But they did at least provide mitigations and remediation steps.</p>

<p>Finally doing tests on a number of different scenarios I finally figured out what it meant in more concret terms:</p>

<p>If the <code>passwordreq</code> field is set on an account, the password <strong>CAN</strong> be blank which essentially bypasses any password complexity requirements:</p>

<p><img src="/images/2016/passwordreq.png" alt="" /></p>

<p>In one specific case this actually makes things more secure:</p>

<p><img src="/images/2016/passwordreq2.png" alt="" /></p>

<p>CIFS/SMB does not allow access to shares or IFS actions by default as per default computer/group policy. However, RDP, WinRM, and WMI work just fine.</p>

            </div>
            
            <div class="post-comments">
                
            </div>
            
            <div class="push"></div>
        </div>
        <footer class="footer text-center">
<p>Copyright &copy; 2018 Malicious.Link -
<span class="credit">
	Powered by
	<a target="_blank" href="https://gohugo.io">Hugo</a>
	and
	<a target="_blank" href="https://github.com/LordMathis/hugo-theme-nix/">Nix</a> theme.
</span>
</p>

</footer>

    </body>
