<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Doskey on </title>
    <link>https://malicious.link/categories/doskey/</link>
    <description>Recent content in Doskey on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 02 Mar 2011 20:05:22 +0000</lastBuildDate>
    
        <atom:link href="https://malicious.link/categories/doskey/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Destructive DOSKEY aliases</title>
      <link>https://malicious.link/post/2011/2011-03-02-destructive-doskey-aliases/</link>
      <pubDate>Wed, 02 Mar 2011 20:05:22 +0000</pubDate>
      
      <guid>https://malicious.link/post/2011/2011-03-02-destructive-doskey-aliases/</guid>
      <description>&lt;p&gt;Not sure how far back it goes (Win95?) but 2000, XP and all the way up to Win 7 have a program called DOSKEY:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;C:\Users\vmadmin&amp;gt;doskey /?
Edits command lines, recalls Windows commands, and creates macros.

DOSKEY [/REINSTALL] [/LISTSIZE=size] [/MACROS[:ALL | :exename]]
  [/HISTORY] [/INSERT | /OVERSTRIKE] [/EXENAME=exename] [/MACROFILE=filename]
  [macroname=[text]]

  /REINSTALL          Installs a new copy of Doskey.
  /LISTSIZE=size      Sets size of command history buffer.
  /MACROS             Displays all Doskey macros.
  /MACROS:ALL         Displays all Doskey macros for all executables which have
                      Doskey macros.
  /MACROS:exename     Displays all Doskey macros for the given executable.
  /HISTORY            Displays all commands stored in memory.
  /INSERT             Specifies that new text you type is inserted in old text.
  /OVERSTRIKE         Specifies that new text overwrites old text.
  /EXENAME=exename    Specifies the executable.
  /MACROFILE=filename Specifies a file of macros to install.
  macroname           Specifies a name for a macro you create.
  text                Specifies commands you want to record.

UP and DOWN ARROWS recall commands; ESC clears command line; F7 displays
command history; ALT+F7 clears command history; F8 searches command
history; F9 selects a command by number; ALT+F10 clears macro definitions.

The following are some special codes in Doskey macro definitions:
$T     Command separator.  Allows multiple commands in a macro.
$1-$9  Batch parameters.  Equivalent to %1-%9 in batch programs.
$*     Symbol replaced by everything following macro name on command line.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Just like the Linux &amp;lsquo;alias&amp;rsquo; command in some ways, you can remap pretty much any command you want. Here are some of the more evil ones I have used in the past:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;doskey cd=del /f /s $1&lt;/li&gt;
&lt;li&gt;doskey tasklist=cat tasklist.txt&lt;/li&gt;
&lt;li&gt;doskey dir=dir &amp;hellip;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I&amp;rsquo;m sure you can think of a ton more..&lt;/p&gt;

&lt;p&gt;The great thing is that there isnt&amp;rsquo; a /delete - you just have to know that in order to remove a doskey macro you just issue the command without the aliased part, so &amp;lsquo;doskey tasklist=&amp;rsquo; will delete the tasklist macro.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
